---
source: tests/trace_cli.rs
info: "set structural\nrules"
---
The two rulesets are described by the following sets of rules, with differences highlighted.

 real, m ⊢ p0: T0,  real, m ⊢ p1: T1                                              | real, m ⊢ p0: T0,  real, m ⊢ p1: T1
 --------------------------------------- "Constructor"                            | --------------------------------------- "Constructor"
 _, m ⊢ [p0, p1]: [T0, T1]                                                        | _, m ⊢ [p0, p1]: [T0, T1]

 inh, ro ⊢ p0: &T0,  inh, ro ⊢ p1: &T1                                            |  
 ----------------------------------------- "ConstructorRef"                       |  
 r, m ⊢ [p0, p1]: &[T0, T1]                                                       |  

 inh, m ⊢ p0: &mut T0,  inh, m ⊢ p1: &mut T1                                      |  
 ----------------------------------------------- "ConstructorRef"                 |  
 r, m ⊢ [p0, p1]: &mut [T0, T1]                                                   |  

 inh, ro ⊢ [p0, p1]: &T                                                           |  
 ------------------------ "ConstructorMultiRef"                                   |  
 r, m ⊢ [p0, p1]: &&T                                                             |  

 inh, ro ⊢ [p0, p1]: &T                                                           |  
 -------------------------- "ConstructorMultiRef"                                 |  
 r, m ⊢ [p0, p1]: &&mut T                                                         |  

 inh, ro ⊢ [p0, p1]: &T                                                           |  
 -------------------------- "ConstructorMultiRef"                                 |  
 r, m ⊢ [p0, p1]: &mut &T                                                         |  

 inh, m ⊢ [p0, p1]: &mut T                                                        |  
 ------------------------------ "ConstructorMultiRef"                             |  
 r, m ⊢ [p0, p1]: &mut &mut T                                                     |  

 real, ro ⊢ p: T                                                                  | real, ro ⊢ p: T
 ----------------- "Deref"                                                        | ----------------- "Deref"
 r, m ⊢ &p: &T                                                                    | r, m ⊢ &p: &T

 real, m ⊢ p: T                                                                   | real, m ⊢ p: T
 ----------------------- "Deref"                                                  | ----------------------- "Deref"
 r, m ⊢ &mut p: &mut T                                                            | r, m ⊢ &mut p: &mut T

 real, ro ⊢ p: T                                                                  |  
 ------------------- "DerefMutWithShared"                                         |  
 r, m ⊢ &p: &mut T                                                                |  

 inh, m ⊢ x: &T                                                                   | inh, m ⊢ x: &T
 -------------------- "BindingBorrow"                                             | -------------------- "BindingBorrow"
 real, m ⊢ ref x: T                                                               | real, m ⊢ ref x: T

                                                                                  | inh, m ⊢ x: &&T
                                                                                  | -------------------- "BindingBorrow"
                                                                                  | inh, m ⊢ ref x: &T

                                                                                  | inh, m ⊢ x: &&mut T
                                                                                  | ------------------------ "BindingBorrow"
                                                                                  | inh, m ⊢ ref x: &mut T

 inh, m ⊢ x: &mut T                                                               | inh, m ⊢ x: &mut T
 ------------------------ "BindingBorrow"                                         | ------------------------ "BindingBorrow"
 real, m ⊢ ref mut x: T                                                           | real, m ⊢ ref mut x: T

                                                                                  | inh, m ⊢ x: &mut &T
                                                                                  | ------------------------ "BindingBorrow"
                                                                                  | inh, m ⊢ ref mut x: &T

                                                                                  | inh, m ⊢ x: &mut &mut T
                                                                                  | ---------------------------- "BindingBorrow"
                                                                                  | inh, m ⊢ ref mut x: &mut T

                                                                                  | 
 ------------- "Binding"                                                          | ------------- "Binding"
 r, m ⊢ x: T                                                                      | r, m ⊢ x: T

                                                                                  | 
 ----------------- "Binding"                                                      | ----------------- "Binding"
 r, m ⊢ mut x: T                                                                  | r, m ⊢ mut x: T


allow_ref_pat_on_ref_mut: true -> false
match_constructor_through_ref: true -> false
ref_binding_on_inherited: "Error" -> "AllocTemporary"
simplify_deref_mut: true -> false
The current options can be fully described as the following set of rules.
The typing predicate looks like `r, m ⊢ p: T`, where
- `r` is `inh` or `real` and indicates whether the outermost reference type (if any) is inherited or not;
- `m` is `rw` or `ro` and indicates whether we have mutable or read-only access to the original scrutinee;
- `p` is a pattern;
- `T` is a type.

real, m ⊢ p0: T0,  real, m ⊢ p1: T1
--------------------------------------- "Constructor"
_, m ⊢ [p0, p1]: [T0, T1]

real, ro ⊢ p: T
----------------- "Deref"
r, m ⊢ &p: &T

real, m ⊢ p: T
----------------------- "Deref"
r, m ⊢ &mut p: &mut T

inh, m ⊢ x: &T
----------------- "BindingBorrow"
r, m ⊢ ref x: T

inh, m ⊢ x: &mut T
--------------------- "BindingBorrow"
r, m ⊢ ref mut x: T


------------- "Binding"
r, m ⊢ x: T


----------------- "Binding"
r, m ⊢ mut x: T
